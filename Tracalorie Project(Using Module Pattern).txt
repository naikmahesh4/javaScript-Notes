Tracalorie Project (Using the Module Pattern):-
 
Project Detail:-

In this Project we build a meal and calorie tracker and we're going to use the JavaScript module Patter for this and also going to use local storage so that we can persist the data so that it stays after we we load the page or close the browser or whatever. So basically have a few different controllers kind of three different module controllers,A storage controller for local storage although that will be last thing. we have a item controller to deal with actual data.The state will have a UI Controller to work with UI.
----------------

Creating the UI with MaterializeCSS:-

We going to start on our application using the module pattern our track calorie app. we're just going to start off by just creating the markup we're using materialise CSS for our UI framework.

We're going to need a couple of things to include here one of course is material CSS so we will go "https://materializecss.com/getting-started.html", And next we going to font awesome icons are not icons CDN because we want to include, we'll get it from this bootstrap CDN "https://www.bootstrapcdn.com/fontawesome/". and we also we gonna user the javascriptcdn and also jquery cdn 


index.html:
------

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <title>TraCalorie | Meal & Calorie Tracker</title>
</head>
<body>
  <!-- Navbar -->
  <nav>
    <div class="nav-wrapper blue">
      <div class="container">
        <a href="#" class="brand-logo center">Tracalorie</a>
        <ul class="right">
          <li><a href="#" class="clear btn blue lighten-3">Clear All</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <br>

  <div class="container">
    <!-- Form Card -->
    <div class="card">
      <div class="card-content">
        <span class="card-title">Add a Meal / Food Item</span>
        <form class="col">
          <div class="row">
            <div class="input-field col s6">
              <input type="text" name="item-name" id="item-name" placeholder="Add Item">
              <label for="item-name">Meal</label>
            </div>
            <div class="input-field col s6">
              <input type="text" name="item-calorie" id="item-calories" placeholder="Add Calories">
              <label for="item-calories">Calories</label>
            </div>
            <button class="add-btn btn blue darken-3"><i class="fa fa-plus">&nbsp;Add Meal</i></button>
            <!-- <button class="update-btn btn orange"><i class="fa fa-pencil-square-o">Update</i></button>
            <button class="delete-btn btn red"><i class="fa fa-remove">Delete Meal</i></button> -->
            <button class="back-btn btn grey pull-right"><i class="fa fa-chevron-circle-left">Back</i></button>
          </div>
        </form>
      </div>
    </div>
    <!-- Calorie Count -->
    <h3 class="center-align">Total Calories : <span class="total-calories">0</span></h3>
    <!--  Item-List -->
    <ul id="item-list" class="collection">
      <!-- <li class="collection-item" id="item-0">
        <strong>Steak Dinner:</strong> <em>1200 calroies</em>
        <a href="#" class="secondary-content"><i class="edit-item fa fa-pencil"></i></a>
      </li>
      <li class="collection-item" id="item-0">
          <strong>Cookies :</strong> <em>700 calroies</em>
          <a href="#" class="secondary-content"><i class="edit-item fa fa-pencil"></i></a>
        </li>
        <li class="collection-item" id="item-0">
            <strong>yogurt :</strong> <em>1000 calroies</em>
            <a href="#" class="secondary-content"><i class="edit-item fa fa-pencil"></i></a>
          </li> -->
    </ul> 
  </div>

 <script src="https://code.jquery.com/jquery-3.4.1.js"integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
  crossorigin="anonymous"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script src="app.js"></script>
</body>
</html>

here we are commenting some stuff becuz we had hard coded the for UI so we're going to do dynamic all in javascript.

-We're going to have a Storage Controller for local Storage which is going to happen till the end.
-We're all going to have an Item Controller for our local Data that have to do it. you know the item and the calories.
-We'll have our UI controller that has to do anything to do with the UI.you know showing,hidding things,getting input.
-We'll have our main app control of where everything will meet and also where we're going to put our intial event listeners and we also have our  initialiser our nit function there.

//Storage Controller
//Item Controller
   //Item Constructor
   const Item = function(id,name,calories){
    this.id = id;  - so with any constructor we need to set thids store and then the property to the property being passed.
    this.name = name;
    this.calories = calories;
  //Data Structure / State
  const data = {
   items : [   -we're hard coded data 
   {id=0,name: 'Steak Dinner',Calories: 300};
   {id=1,name: 'Cookies',Calories: 500};
   {id=2,name: 'Eggs',Calories: 600};     --.as we talked about in the module pattern this stuff is private,This is not accessiable for instance from chrome, and we look over in chrome ItemCtrl.data it shows TypeError: cannot read property 'data' of undefined. so if we want to able to access this data which i actually do want to have a function to access to testing out,we're ging to have to return. Ok whatever we return from the module is what i going to be public.
	 ],

   currentItem:null,	- what i mean currentItem is when we go to update if i click the update icon we're going to want that paticular item that meal item to be the current item and then next we're going to get put up here in the form to be updated.

   totalCalories: 0
 	}

   //public methods

   return {   -by return we can access the data in chrome.ItemCtrl.logData())
     getItems:function(){  -create a pubilc method in our itemController called getitem.
	return data.items;
	      },
       logData: function(){ -
 	return data;
	},
      addItem: function(name,claories){
	//console.log(name, calories)
	let ID;
	//Create Id -- We need to generate id,so here we increment the ids (logic to create the ids)
	if(data.items.length > 0){
	ID = data.items[data.items.length -1].id +1; -if greater than zero we want to do is make id data.items nd then we want 'index to be length minus one' 
	}else{
	ID = 0;
	}
	//Calories  string to number
	calories = parseInt(calories); - next we want new item we need to say new key word new item and then pass in the data
	//Create the new item
	const newItem = new Item(ID,name.calories) - this call the constructor

	//Add to items array
	data.items.push(newItem);
	
	return newItem ; -we are return the newIte,bcuz remember we put it into variable down below. (After entering new data in web nothng happened in UI nd it shouldn't becuz we hven't done anything with UI what we have done is updating the data structure. Now remember we have this logData function or method that we can check that in console by typing itemCtrl.logData().so here we can the all the dat a update. )
-Next we have add a new item to data Structure,so need to add it to the UI.in UICtrl
	},
 getTotalCalories : function(){  -we actually have to do is we have to loop through the items and we have to add the calories.
	let total = 0 ; -create a variable using let bcuz this will change and set to zero by default.
  //Loop through items and add Cals
   data.items.forEach( function(){ -we can loop through items,So remember we can access our data and we have our items array.
	total += items.calories;
});
  //Set total Cal in data structure
  data.totalCalories = total ;
//Return total
return data.totalCalories;  -Now we want to show in UI ,goto app Control
	}
	
     }

      })();

//UI Controller
const UICtrl = (function(items){
    const UISelectors = {
        itemList: '#item-list',
        addBtn: '.add-btn',
        itemNameInput : '#item-name',
       itemCaloriesInput : '#item-calories',
     totalCalories : '.total-calories' -we gonna back to showTotalCalories
	}

   return {
    let html = ' ';

   items.forEach(function(item){  --we're looping through those items and we're adding an 'li' to this or we pending an 'li' to this html variable through each iteration and then finally sticking this in UI.
      html +=  `
	<li class="collection-item" id="item-${item.id}">
        <strong>${item.name} :</strong> <em>${item.calories} Calories</em>
        <a href="#" class="secondary-content"><i class="edit-item fa fa-pencil"></i></a>
        </li>
            `;
     });
   //Insert list Items
    document.querySelector('UISelectors.itemList').innerHTML = html;
      },
    getSelectors : function(){  -we can't access the private modifiers, this getSelectors are created,so we can access public modifiers
     return UISelectors; 
	},
    getItemInput : function(){  -same as the getselector bcuz the modifiers
         return {  - we want return an object with name and calories,Next how do we get this forms so we have id's. Next we need to add to UI Selectors  
	name : document.querySelector(UISelectors.itemNameInput).value ,
	calories : document.querySelector(UISelectors.itemCaloriesInput).value
	}
	},
   addListItem : function(item){ -now we want to create a list item element
     //Show the List ()
   document.querySelector(UISelectors.itemList).style.display = 'block';  --Next we want know the total calories count in UI Page.so let's go to our main app Control or to goto item add submit and i want to do before clear the input fields.

        //Create li element
    const li = document.createElement('li');
     //Add Class
    li.className = 'collection-item';
   //Add ID
  li.ID = `item-${item.id}`  -Now remember the ID is actually going to be dynamic its going to be id of the item,We can access that becuz this is the item object which has the ID,name and the Calories.so we gonna set this to template string.
  //Add HTML
  li.innerHTML = ` <strong>${item.name} :</strong> <em>${item.calories} Calories</em>
        <a href="#" class="secondary-content"><i class="edit-item fa fa-pencil"></i></a>`;
   //Insert Item
document.querySelector(UISelectors.itemList).insertAdjacentElement('beforeend', li) 
	},
-After add those items we need to clear the fields,go back to App Controller in itemAddSubmit and clear fields.
  
  clearInput : function(){
    document.querySelector(UISelector.itemNameInput).value = ' ';
    document.querySelector(UISelector.itemCaloriesInput).value = ' ';
	}

-After reloading the web-page the data disappears becuz we haven't persisted the data anywhere it's just in the local data structure.Later on we're going to add it to local storage so that if we reload the app it's still there .

-We have add a hardCoded data in the itemController, in console when we type ItemCtrl.logData() we get last item as (Item { id:3,name:'dash',calories:'343'}),notice that last item as Item bcuz that was actually created with the constructor.these are the items we just object literals just pasted inside the Array.

-we gonna comment out the hardCoded data and now lets see nothing is there in web-page so i want remove the below line in web-page when data is empty.even though there is 'ul' list . So what we're going to do is in the UI controller.we're going to add a method called 'Hide list'.

  hideList : function(){
    document.querySelector(UISelectors.ItemList).style.display = 'none'; -Next go to App Controller and add a condition to the init.

	},
    showTotalCalories: function(totalCalories){
      document.querySelector(UISelectors.totalCalories).textContent = totalCalories ; 
         }
    }
})();

//App Controller
const App = (function(ItemCtrl,UIctrl){
    console.log(ItemCtrl.logData());  - output:{items:Array     (3),currentItem:null,totalCalories:0} - Next we want to do in app control or just return one function or one method and that's going to be the net.the main it's initializer for the app anything that we need to run right away when the application loads.
     -For instance we want to make sure that the state is clear that there is nothing in UI.
 //load Event listeners
  const loadEventListeners = function(){
      //Get UI selectors
     const UISelectors = UICtrl.getSelectors(); - so we can get access from UI Ctrl to App Ctrl as the above.

  //Add item Event
    document.querySelcetor(UISelectors.addBtn).addEventListener('click',itemAddSubmit);
     }

   //Add item submit
   const itemAddSubmit = function(e){
   //console.log('add'); - if we click in webpage nothing gonna show to in console bcuz this loadEventListeners function is not being called anywhere.So this is the actually going to called inside of init.so go through to init and call it.
    when we submit the form we must make sure that there is something in the field.Inorder to check to make sure that there's something here we need to get the input.so we're going to leave that to UI Control or method called get item input.

  //Get form input from UI Controller
const input = UiCtrl.getItemInput();  -goto the UI Controller.
//console.log(input);  - output shows the result in console.
//Check for name and calories input
  if(input.name !== ' ' && input.calories !== ' '){
      //Add item
    const newItem = ItemCtrl.addItem(input.name,input.calories); -we need to create a variable bcuz we need later to update UI,Next go and create a addItem in Item Controller.this takes input as identifier.

this is item add submit function and remember we put it new item into a variable (newItem variable),Now we want to Add item to UI.
   //Add item to UI List
  UICtrl.addListItem(newItem); -we haven't created yet we have to go up here to the UI Controller and actually create it (addListItem).
  //Get total Calories
 const totalCalories = ItemCtrl.getTotalCalories(); -we haven't created yet the getTotalCalories,so go to Item Control and create a object getTotalCalories.
  //Add total Calories to UI -show total Calories to UI
 UICtrl.showTotalCalories(totalCalories); - we pass total Calories and next goto UI controller

  //Clear fields -to clear the fields
 UICtrl.clearInput();  -Now go to UIController and add the clearInput function for clearing the data after the submit
	}
   e.preventDefault();
    }

 //public Methods
 return {
   init: function(){
   //console.log('Initializing the App.......');
    // Fetch items from data structure
   const Items = ItemCtrl.getItems(); -we're getting items from the item controller we're putting into a variable then we're calling populateItemList from UI controller or where we passing those items in and then populate item.

    console.log(Items);   output:-Initializing the App.......
		     (3) [{…}, {…}, {…}]
	-The number UI Controller is what going to take care of anything to do with the user interface and populating this list right in UI.this is UI with our items that's a function of the controller.

  //Check if any item 
  if(items.length === 0){   - this condition when there item is empty don't show the line in UI page or else show the line
   UICtrl.hideList();
    }else {
    //Populate list with items
      UICtrl.populateItemList(Items);
    }

    
     // Load event listener
      loadEventListeners();
      }
   }
  
})(ItemCtrl,UIctrl);

//Initialize App
App.init();

-Note: Another very Important thing that this init is goiing to call from the Item Controller a method called get items which is going to get all of these items.And then we're going to use the UI controller to populate the list.All right so all this modules are going to work very closely together.